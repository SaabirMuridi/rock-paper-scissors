<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rock Paper Scissors</title>
    <script src="RPS.js"></script>
</head>
<body>
    <script>
        const getComputerChoice = () =>{
            let random = Math.floor(Math.random()*3);
            switch(random){
                case 0:
                    return "rock";
                    break;
                case 1: 
                    return "paper";
                    break;
                case 2: 
                    return "scissors";
                    break;
            };
        }
        const computerSelection = getComputerChoice();
        const playerSelection = "PAPER";

        const playRound = (playerSelection, computerSelection) => {
            let p = playerSelection.toLowerCase();
            let c = computerSelection;
            if(p == "rock" && c == "scissors"){
                    return "You Win! Rock beats Scissors";
                    
                }
            else if(p == "rock" && c == "rock"){
                    return "Draw!";
                    
                }
            else if(p == "rock" && c == "paper"){
                    return "You Lose! Paper beats Rock";
                    
            }

            else if(p == "scissors" && c == "scissors"){
                    return "Draw!";
                    
                }
            else if(p == "scissors" && c == "rock"){
                    return "You Lose! Rock beats Scissors";
                    
                }
            else if(p == "scissors" && c == "paper"){
                    return "You Win! Scissors beats Paper";     
            }

            else if(p == "paper" && c == "scissors"){
                    return "You Lose! Scissors beats Paper";
                    
                }
            else if(p == "paper" && c == "rock"){
                    return "You Win! Paper beats Rock";
                    
                }
            else if(p == "paper" && c == "paper"){
                    return "Draw!";
                    
            }
        }
        const game = () => { 
            let player = 0;
            let cpu = 0;
            for(let i = 1; i<=5; i++){
                const playerSelection = prompt("Choose rock, paper, or scissors");
                const computerSelection = getComputerChoice();
                let result = playRound(playerSelection, computerSelection);
                console.log(result);
                if(result.indexOf("Win") > -1){
                    player++;
                }
                else if(result.indexOf("Lose") > -1){
                    cpu++;
                }
                console.log("player points: ", player)
                console.log("cpu points: ", cpu)
                if(i == 5){
                    if(player > cpu){
                        console.log("You are the winner, congratulations!")
                    }
                    else if(cpu > player){
                        console.log("You lost! The cpu is the winner.")
                    }
                    else{
                        console.log("Draw game!")
                    }
                }
            }
        }
        console.log(game())

        

        
    </script>
</body>
</html>